var columns = 16; var rows = 16;// var tile_size = 16; var scale = 1;

var context = document.querySelector("canvas").getContent("2d");
    var map = [1,1,0,0,1,1,0,0,0,1,0,1,1,1,0,1,
               0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,0,
               0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,
               1,0,1,0,0,0,0,1,1,0,1,0,0,0,0,0,
               0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,0,
               1,1,1,0,1,0,0,0,0,0,0,1,1,0,0,0,
               1,0,0,1,0,0,1,1,0,0,0,0,1,1,0,1,
               0,1,1,0,0,0,1,0,0,0,0,0,1,1,0,0,
               0,0,0,1,1,0,0,0,0,0,1,0,1,0,1,0,
               1,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,
               0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
               2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
               3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
               3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
               3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
               3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3];

           
context.fillRect(20, 20, 100, 100);

               function loop(){

                window.requestAnimationFrame(loop);

                context.fillStyle = "#0080000";
                context.fillRect(100,100, context.canvas.width, context.canvas.height);
               }

               loop();
            